# 섹션 4. [기초편] 기본 오브젝트

## Pod - Container, Label, NodeSchedule
- Pod
  - 컨테이너가 1개 이상 존재
    - 컨테이너는 독립적인 서비스로 구동 가능
    - 서비스가 연결될 수 있도록 포트를 갖는다.
      - 여러 포트 설정 가능
      - 한 파드 내에 중복 포트는 설정 불가
  - 파드 내 컨테이너는 동일한 호스트를 갖는다.
    - localhost로 접근 가능
  - 파드 생성 시점에 고유 IP 주소 할당
    - ex) 10.16.36.22
    - k8s 클러스터 내에서만 접근 가능한 IP
    - 휘발성 IP 
  - Pod 문제 발생시
    - 시스템이 감지 후 파드 삭제 & 재생성 -> 고유 IP는 변경된다.
- Label
  - Pod 뿐 아니라 모든 오브젝트에 달 수 있다.
  - Pod에서 가장 많이 사용한다.
  - 목적에 따라 오브젝트 분류, 원하는 오브젝트만 선택 사용 가능
  - key, value 구조
  - 파드 내 여러 Label을 달 수 있다.
- Node Schedule
  - 여러 노드가 존재한다.
  - 파드는 노드에 올라간다.
    - 직접 노드 지정 방법
      - 노드에 Label 추가, 파드 설정에서 노드 라벨 지정
      - spec.nodeSelector.hostname: node1
    - k8s 자동 노드 지정 방법
      - 노드는 전체 사용 가능 자원량 존재 (CPU/Memory) -> 설정 내 자원 사용량 값을 가지고 노드 자동 지정!
      - 설정 내 자원 사용량을 명시하지 않은 경우 -> 앱 부하 발생시 무한정 노드 자원 사용하려고 할 수 있다. -> 자원이 없어서 포함된 파드 모두 뻗게 된다.
        - spec.containers.resources.requests.memotry: 2Gi
          - 파드에서 사용될 리소스 request가 메모리 2Gi 요구
        - spec.containers.resources.requests.limit: 3Gi
          - 최대 허용 메모리 3Gi
          - 메모리가 limit 넘을 경우 바로 파드를 종료시킨다.
            - CPU의 경우 지정 수치까지 낮추려고 하지만, 파드를 종료시키진 않는다.