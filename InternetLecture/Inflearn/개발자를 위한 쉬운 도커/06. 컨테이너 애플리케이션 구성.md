# 컨테이너 애플리케이션 구성

## 파트 소개

## 클라우드 네이티브(Cloud Native) 애플리케이션
- 클라우드
  - 사용 요청 즉시 서버 생성 -> Provisioning(프로비저닝)
  - 사용한 만큼 지불
    - 트래픽 증가 -> 빠르게 대처 (확장성, Scalability)
    - 장애 발생시 빠르게 복구 가능 (복원력, Resilience)
  - 운영 비용 효율적 운영 가능한가?
    - 전문가 적절하게 개선 및 비용 최적화 필요
- 클라우드와 클라우드 네이티브 애플리케이션
  - 클라우드: 복잡하고 현대 앱이 겪는 다양한 문제를 클라우드 환경 구성을 통해 해결 가능
  - 클라우드 네이티브 애플리케이션: 클라우드 환경을 잘 활용할 수 있는 애플리케이션 구조
    - MSA
    - 컨테이너 
    - 상태비저장 (Stateless)
    - DevOps, CI/CD
- MSA
  - 전통적인 모놀리식 방식 
    - 하나의 앱이 켜지고, 실행에 오래 걸리고, 트래픽 서버 증가시 실행 시간이 오래 걸려 오버헤드 발생
    - 배포 시간도 당연히 오래 걸리게 된다.
    - 오류 발생시 -> 전체 오류로 번지 수 있다.
    - 스케일 업을 주로 사용
  - MSA
    - 모듈별로 분리해, 서버별로 트래픽을 수용, 특정 모듈 트래픽 증가시 해당 모듈만 제어 가능하다.
      - 스케일 아웃 -> 서버 수를 증가시켜 트래픽 대처
      - 스케일 인 -> 서버 개수를 줄이는 것
    - 모듈 별로 서로 다른 언어로 구성 가능
    - 스케일 아웃을 주로 사용

## Leafy 애플리케이션 구성
- 식물 관리 웹 앱
  - 식물 정보 제공
  - 나의 식물 리스트
  - 식물 다이어리
  - 물 주기 계산
- 세 개 서버로 구성 -> 컨테이너로 구성
  - front
    - vue.js 3, nginx 웹 서버 배포
  - backend
    - spring boot, 내장 톰캣
  - sql
    - postgresql
- 명령어
  - docker network create leafy-network
    - 앱이 사용할 네트워크 생성
  - docker run -d --name leafy-postgres --network leafy-network devwikirepo/leafy-postgres:1.0.0
    - db 컨테이너 생성 및 실행
  - docker logs -f leafy-postgres
    - 컨테이너 로그 조회 + 실시간 조회
  - docker run -d -p 8080:8080 -e DB_URL=leafy-postgres --network leafy-network --name leafy devwikirepo/leafy-backend:1.0.0
    - 백엔드 컨테이너 생성 및 실행
  - docker logs -f leafy
  - docker run -d -p 80:80 --network leafy-network --name leafy-front devwikirepo/leafy-frontend:1.0.0
    - 프론트엔드 컨테이너 생성 및 실행

## PostgreSQL 컨테이너 구성

## SpringBoot 백엔드 컨테이너 구성

## Vue.js 프론트엔드 컨테이너 구성
