# 샘플 프로젝트 소개 & 개발 환경 안내
- 초간단 카페 키오스크 시스템 만들어보기
  - 주문 기능에 집중해서 간단 개발
  - 프로젝트 생성

# 프로젝트 세팅

# 수동테스트 VS 자동화된 테스트
- 요구 사항
  - 주문 목록 음료 추가, 삭제
  - 주문 목록 전체 지우기
  - 주문 목록 총 금액 계산
  - 주문 생성

```java
// 최종 확인 주체는 사람이다. 자동화가 아니다. 
// 다른 사람이 봤을 때 무엇을 검증해야하고, 의도를 파악하기 힘들다.
// -> 수동 테스트 VS 자동화된 테스트
@Test
void add() {
    System.out.println("담긴 음료 수 : " + "~~~"); // X
    System.out.println("담긴 음료 : " + "~~~"); // X
}
```

# JUnit5로 테스트하기
- 단위 테스트
  - 작은 코드 단위를 독립적 검증하는 테스트
    - 작은 -> 클래스 또는 메서드
  - 검증 속도 빠르고, 안정적, 외부에 의존하지 않는다.
- 단위 테스트부터 꼼꼼히 작성하는 것이 필요하다.
- JUnit 5
  - 단위 테스트를 위한 테스트 프레임워크
- AssertJ
  - 테스트 코드 작성 원활하게 돕는 테스트 라이브러리, JUnit과 같이 사용한다.
  - 풍부한 API, 메서드 체이닝 지원
- JUnit과 AssetJ를 통해 메서드와 클래스 내에 필드들을 확인한다. 
  - 예상된 값을 기준으로 기대 값을 매칭하여 검증 -> 자동화 테스트 가능

# 테스트 케이스 세분화하기
- 요구사항 추가
  - 한 종류의 음료 여러 잔을 한 번에 담는 기능 (add 메서드 -> 여러 개)
- 요구 사항이 실제 구현 요구사항과 맞아 떨어지는가, 암묵적이거나 드러나지 않은 요구사항이 있는지 염두하고 고민해야 한다.
  - 요구 사항 멘트가 정말 다 일까? 고민을 해야 한다.
- 해피케이스, 예외 케이스
  - 해피케이스 -> 아메리카노 두 잔 담기
  - 예외 케이스 -> 아메리카노 0잔 담을 때 어떻게?, 음수 입력시에는?
  - 두 테스트를 할 때 경계값 테스트 조건이 중요 (범위(이상, 이하, 초과, 미만), 구간, 날짜 등)

# 테스트하기 어려운 영역을 분리하기
- 가장 중요할 수도 있다.
- 요구사항 추가
  - 가게 운영 시간 (11:00 ~ 16:00) 외에는 주문 할 수 없다.

- 특정 메서드에 현재 시간을 가져오는 코드가 있다. 이 코드 기반으로 성공 여부가 결정된다. 따라서 시간에 따라 테스트를 실패 할 수 있다.
  - 코드 내에서 현재 시간을 가져온다면, 이를 어떻게 해야 할까?
    - 테스트 코드를 위해 맞춰서 개발해야 될까?
  - 현재 시간 코드를 함수 내부 코드가 아닌, 파라미터로 받는 방법으로 바꿀 수 있다. -> 테스트를 위해 메서드를 맞춰서 생성?
    - 상용에서는 현재 시간을 넣어주고, 테스트 시 테스트 값을 파라미터로 전달한다.
- 테스트 어려운 영역을 외부로 분리 -> 파라미터로 받도록 변경
  - 검증하고자 하는 것은 특정 시간이 범위 조건에 일치하는지가 핵심이다.
- 테스트하기 어려운 영역
  - 관측시 마다 다른 값에 의존하는 코드
    - 현재 날짜, 시간, 랜덤값, 이용자 입력 등
  - 외부 세계에 영향을 주는 코드
    - 표준 출력, 메시지 발송, DB 기록 등
  - 함수를 기준으로 IN, OUT에 의존하는지 판단 -> 의존한다면 어렵다. 의존하지 않으면 순수함수
- 순수 함수
  - 같은 입력에 항상 같은 결과
  - 외부와 단절
  - 테스트하기 쉬운 코드

# 키워드 정리
- 단위 테스트
- 수동 테스트, 자동화 테스트
- JUnit5, AssertJ
- 해피 케이스, 예외 케이스
- 경계값 테스트
- 테스트하기 쉬운/어려운 영역
  - 함수를 기준으로 IN, OUT에 의존하는지 체크