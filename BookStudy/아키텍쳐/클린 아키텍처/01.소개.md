# 서문
저자의 수많은 경력과 그 경험 속에 아키텍처 규칙은 동일하다라는 걸 깨달았다.
근본적으로 구축 시스템이 다르다할지라도 소프트웨어 규칙은 다른 모든 변수에 독립적이다.

과거와 비교했을 때 현재 프로그래밍 방식도 여전히 순차, 분기, 반복의 집합체일 뿐이다.
관행은 점차 모든 것이 변해왔다. 프로그래밍 언어는 발전했고 서포트하는 도구들의 퀄리티는 날이 갈수록 좋아지지만,
소프트웨어 프로그래밍 기본 구성 요소는 바뀌지 않는다 또는 느리게 변한다.

과거에도 아키텍처 규칙은 동일했지만, 그 사실을 깨닫지 못한 채 어기고 또 어기면서 구축하고 개발해왔다.
이제는 세월이 흘러도 변치않는 규칙에 관한 내용을 살펴보자.

시스템을 '동작'하도록 누구나 할 수 있다.
동작만 하게하는 것은 어려운 일이 아니다.
하지만 프로그램을 제대로 & 올바르게 만드는 일은 전혀 다르다.

사고력, 통찰력, 훈련과 헌신을 필요하다고 생각하지 않는다.
무엇보다도 열정과 전문가가 되려는 열망은 필수다.

시스템을 잘 만들면 지속 가능한 프로그램을 만들 수 있다.
즉 적은 인력으로 신규 개발 및 유지 보수를 유지할 수 있다.
변경은 단순하고 공수가 많이 들지 않으며 빠르게 반영한다.
완벽한 시스템은 이 놀라운 것들을 모두 경험하게 한다.

서로 강하게 연관되고 복잡헤가 결합되어 사소한 변경에도 시간이 많이 소요된다.
잘못된 시스템 설계와 코드는 업무 방해와 사기마저도 떨어뜨린다.
회사 전체가 실패할 수도 있다.

# 1장 설계와 아키텍처란?
설계와 아키텍처 둘은 어떤 차이인가?

아키텍트는 무언가 고수준, 설계는 저수준의 구조 또는 결정 사항 등을 가리 킬 때가 많은데,
아키텍처를 자세히 살펴보면, 무수히 많은 저수준 세부 사항도 확인 가능하다.
모든 고수준의 결정사항을 지탱하는 세부사항을 확인할 수 있다.
저수준의 세부사항과 고수준의 결정사항은 전체 설계의 구성요소가 된다.

소프트웨어 설계도 저수준의 세부사항과 고수준의 구조는 모두 전체 설계의 구성요소다.

소프트웨어 아키텍처 목표는 투입 인력을 최소화하는 데 있다.
시스템의 수명이 다할 때 까지 인력 최소화를 유지한다면 좋은 설계다.

설계 품질의 척도는 고객 요구사항 만족과 다름없다.

코드와 설계의 구조를 깔끔하게 만드려는 생각을 포기하고 코드를 축적하고 막무가내 설계로 진행하게 되는 경우
투입 인력이 늘어날수록 생산성은 오히려 낮아진다.

즉 다음 버전에 기능을 추가하고 출시를 한다면, 출시할 때 마다 인력이 필요하게 된다.
심지어 모두가 열심히 일하는데도 불구하고 말이다.
인건비가 지속적으로 늘어난다.

과연 무엇이 잘못됐을까?
훌륭하고 깔끔하게 설계된 코드가 중요하다는 사실을 항상 인지하자.
내가 그 코드에 손을 댄 적이 없더라도, 오래된 레거시 코드라도 "이 코드는 원래 이러니까"라며 비슷한 코드를 생성해내는건 잘못됐다.
"코드는 나중에 정리하고, 빠듯한 일정을 맞추는 게 먼저야!"로 착각하지 말자.
야근이 필요해진다면 경험이 필요해진거다. 경험이 많아져서 야근이 필요하더라도 좋은 아키텍처와 설계에 헌신하자.
이 것이 책 서문에서 말한 "사고력, 통찰력, 훈련과 헌신을 필요하다고 생각하지 않는다." 인 것 같다.

지저분한 코드는 단기적으로 빠르지만, 장기적으로 생산성이 낮아진다. 그 낮아진 생상선이 나한테 돌아온다.
코드를 깔끔하게 유지하는 방법인 TDD, 코드가 깔끔해질수록 향후 코드를 개발하는 시간은 더 빨라진다.
"빨리 가는 유일한 방법은 제대로 가는 것이다."

엉망이된 설계와 코드, 전체 시스템 재설계가 해답일까?
현실은 장밋빛 기대와 거리가 멀다. 자신을 과신하지말자.
재설계 하더라도 똑같이 엉망이 될 뿐이다. 

조직에 스며든 과신을 인지하고 방지해야 한다.
소프트웨어 아키텍처 품질을 심각하게 고민하기 시작하라.
심각하게 고려하기 위해서는 '좋은 소프트웨어 아키텍처'가 무엇인지 이해하고 있어야 한다.

비용 최소화, 생산성 최대화 -> 시스템 아키텍처가 지닌 속성을 알고 있어야 한다.
더 살펴보자.

```text 
느낀점

평소에 고민하던 것들 중 몇 가지에 대한 답은 얻었다.
그리고 평소에 가끔 생각하던 것들 마저 잘못됐다라는 것을 인지하게 됐다.

아키텍처와 설계는 소프트웨어 관점에서 비슷하다고 보면 된다.
어쨋든 큰 구조와 그 안에 세부 사항들로 아키텍처와 설계를 만든다.

개발자에게는 좋은 개발자가 되려는 열망과 이루려는 열정, 헌신이 필요하다.
개발은 누구나 '동작'만 하게 할 수 있지만, 비용을 최소화하고 생산성을 극대화하는 것은 아무나 하지 못한다.
아무나 하지 못하는 걸 알기 위해서는 더 많이 알고, 알아간 것을 바탕으로 새로운 것을 익혀야 하는 노력이 필요하다.

또한 조직의 레거시 코드, 일정이 빠듯하여 점점 생산성이 낮아지는 코드와 설계 
배포 시점으로 인력은 더 필요해지고 생산성은 낮아진다.
바쁘더라도, 야근을 해서라도 지금 당장 생산성을 고민하여 좋은 코드와 설계로 이끌어 가는 마인드와 방법(TDD, ...)이 필요하다.
이런 헌신은 나에게 경험이 되고, 시니어가 완성되는 것 같다. 
```
---

# 2장 두 가지 가치에 대한 이야기
모든 소프트웨어 시스템은 이해관계자에게 서로 다른 두 가지 가치를 제공하낟.
1. 행위 (behavior)
2. 구조 (structure)

두 가치를 모두 반드시 높게 유지하자.
대부분 덜 중요한 가치에만 치중하고, 중요한 가치를 배제한다.

행위 (behavior)  
많은 개발자가 단순히 주어진 요구사항과 요구사항을 대략적으로 보완해주고, 기능을 완성하고 버그를 수정하는 것이 전부라고 생각한다.
요구사항을 서비스에 적용하고, 버그만 고치는 것은 틀렸다. 다른게 아니다.

구조 (structure)  
소프트웨어와 관련이 있다.
소프트웨어는 부드러운(soft) + 제품(ware) 합성어다.

서비스의 행위를 변경할 때 어려워서는 안된다. 이건 소프트하지 않다. 
따라서 소프트웨어 본연의 목적을 추구하려면 반드시 소프트해야한다.
즉 확장과 변경이 쉬워야 한다.

소프트웨어 개발 비용을 증대하는 요인은 변경의 범위와 형태의 차이에 있다.
변경으로 인한 어려움은 변경 범위에 비례해야 하고, 변경의 형태와는 무관해야 한다.

이해관계자의 변경의 범위와 개발자가 느끼는 복잡도는 다르기에, 오해가 생기기도 한다.
신규 요청사항이 생길 때 마다 이 전 작업보다 더 복잡해지는데, 시스템과 요구사항의 형태가 서로 맞지 않기 때문이다.
아키텍처의 형태가 다른 것들을 서로 선호할 수록 새로운 기능을 구조에 맞추기 힘들어진다.
따라서 아키텍처는 독립적이어야 더 실용적이다.

그렇다면 앞서 말한 두 가치 중 더 중요한 가치는 무엇이고, 개발자는 무엇을 배제하고 있을까?
업무 관리자는 서비스의 구조보단 요구사항에 맞춰 동작하는지가 중요하다. (구조보단 행위)

그러나 두 가치 모두 극단의 사례를 살펴보자.
1. 완벽하게 돌아가지마 변경은 불가능한 서비스
2. 동작 하지 않지만 변경이 쉬운 서비스

1번은 현재를 우선으로 두고, 미래를 보지 않는다. 미래가 현재가 되었을 때 더 많은 것을 감수해야 한다.

중요한 것과 긴급한 것 
긴급한 문제는 아주 중요한 문제일 경우는 드물고, 중요한 문제가 몹시 긴급한 경우는 거의 없다.

행위는 긴급하지만, 매번 높은 중요도를 갖진 않는다.
아키텍처는 중요하지만, 보통 긴급하진 않다.

그렇다면 아래 우선 순위를 따르자.
1. 긴급O, 중요O
2. 긴급X, 중요O
3. 긴급O, 중요X
4. 긴급X, 중요X

행위와 구조를 위에 우선순위에 맞춰 생각해보자.
구조 - 1, 2
행위 - 1, 3

업무 관리자와 개발자가 흔하게 저지르는 실수는 우선순위 3을 1로 격상시키는 것이다.
리얼 긴급 중요한 것과 긴급하지만 중요하지 않은 것을 혼동하지 말자.

업무 관리자는 보통 아키텍처 중요도를 알지 못하기에, 개발자는 휘둘리지 말고 중요, 긴급을 구분할 줄 알아야 한다. 
기능의 긴급성이 아닌 아키텍처의 중요성을 설득하는 것도 개발팀이 마땅히 책임져야 한다.

설득이 쉽지 않을 수 있다.
각 팀 마다 믿는 가치가 다르다.

소프트웨어 개발자도 이해관계자임을 명심하자.
소프트웨어 서비스를 안전하게 효율적으로 관리하고 보호할 책임이 있다.
이것이 개발자가 고용된 이유중 하나다.

기능에만 초점을 두고 구조가 잡히지 않는다면 개발 비용과 생산성이 낮아진다.
이러한 발생을 용납했다면, 개발팀이 가치를 위한 투쟁을 하지 않았거나 무지하다는 것이다.

```text
느낀점

익숙한 환경에서 구조보단 행위를 더 생각했다.
책에 나온대로 업무관리자 의견처럼, 가끔은 전체적인 구조보다 지금 당장 완벽히 동작하는 것에 비중을 둔 적도 있다.
그럴 때 마다, 앞에 나온것 처럼 자신을 과신하여, "일단 배포하고 리팩토링하자"라는 생각을 한적도 있는데, 
이런 생각과 행동을 잘못됐음을 깨닫게 되는 장이었다.

구조와 행위에 대해 늘 추상적으로 생각했지만, 우선순위를 두어 생각해본적은 없는데, 지표로 활용하면 좋을 것 같다.
소프트웨어 개발자로서 구조의 중요성을 업무 관리자 또는 타 팀에게 설득하고 존중하며 커뮤니케이션 하는 것이 중요하고, 고용된 이유라는 문장에서 많은 것을 꺠달은 것 같다.
```
---
