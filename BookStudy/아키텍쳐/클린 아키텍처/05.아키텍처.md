# 15장 아키텍처란?
소프트웨어 아키텍트는 코드에서 탈피하지 않는다. 
즉 고수준의 정책 등의 문제에만 집중하는 것이 아니다.
아키텍트를 통해 개발팀의 생산성 극대화 방향의 설계 방향을 이끌어준다.

소프트웨어 아키텍처는 시스템 구축의 형태다.
형태는 개발팀의 규모, 컴포넌트간 어떻게 통신하게 할 지에 따라 방식이 달라진다.
그리고 완성된 형태를 통해 SW 시스템이 개발, 배포, 운영, 유지보수를 수월하게 만들어야 한다.

일반적으로 대중들이 시스템 아키텍처를 바라보는 관점은, 시스템을 제대로 동작하도록 만드는데만 있다고 생각 할 수 있다.
물론 시스템이 제대로 동작해야 하며, 이를 최우선 목표로 잡긴 해야하나,
주된 목적은 시스템의 생명주기를 지원한다. 
시스템을 쉽고, 빠르고, 이해하기 쉽게, 비용을 최소화하고, 개발자의 생산성 최대화하는 데 있다.

시스템 아키텍처는 개발팀이 시스템을 쉽게 개발 할 수 있도록 뒷받침해야만 한다.
시스템의 크기, 앞으로의 방향성, 개발자의 규모에 따라 모놀리틱한 방식이 효율적일 수도 있고, 도메인을 분리한 방식이 효율적일 수도 있다.
아키텍트에 대한 정책과 분리가 잘 되어 있다면 오히려 개발 초기에는 이로인한 시간 공수나 제약이 될 수도 있다.

하지만 도메인이 분리되고, 개발자가 많아지고 여러 팀으로 분리된다면,
안정된 인터페이스와 잘 설계된 컴포넌트 단위로 분리되어야 효율성이 늘어난다.

예를 들어 4 팀이 있다고 했을 때, 각 팀 마다 컴포넌트를 가지고 있고 총 네 개의 컴포넌트를 가지고 있다면,
배포, 운영, 유지보수 측면에서 최적일 수 없다.
일정에만 쫓겨서 일하게 된다면 결국 이렇게 된다.

개발 초기부터 배포 전략을 고려하는 경우는 드물다.
개발 관점에서는 편해도 배포 시기가 다가오면 배포가 난해해질 수 있다.
배포 전략을 초기에 결정하는 경우 더 통합된 도구를 사용하여 상호 연결이 수월한 형태로 만들 가능성이 높아진다.

아키텍처는 시스템 운영에 상대적으로 영향을 미치진 않는다.
운영 관점에서 단순히 스케일업을 통해 해결할 수도 있다.
즉 시스템의 아키텍처 비효율을 스케일업으로 해결하는 경우가 허다하다.

운영을 방해하는 아키텍처 비용 < 개발, 배포, 유지보수를 방해하는 아키텍처 비용
비용 관점에서는 후자에 더 기운다.
그렇다고 전자가 중요하지 않다는 것은 아니고 다만 비용 면에서만 그렇다.

보통 SW 시스템에서 유지 보수에 드는 비용이 가장 많다.
그 중 가장 큰 비용은 탐사와 그로 인한 위험부담이다.
즉 신규 개발 또는 오류에 있어서 최선의 선택지와 최적화된 전략을 결정할 때 드는 비용이다.

SW를 소프트하게 유지하기 위해서 가능한 선택 사항을 많이 열어둬야 한다.
여기서 말하는 선택 사항은 세부사항이다.

모든 SW 시스템의 중요한 두 가지는 정책과 세부사항이다.
아키텍트의 목표는 정책을 가장 핵심적인 요소로 식별하고, 
세부사항은 정책에 무관하게 만들 수 있는 형태의 시스템을 구축하는 것이다.
- 개발 초기에 데이터베이스를 지정할 필요 없다. 즉 no sql, rdbms, 등 고수준의 정책과 관련이 없도록 만들어야 한다.
- 개발 초기에 웹 서버를 지정할 필요 없다. 고수준의 정책은 웹을 통해 전달된다는 사실도 알아서는 안 된다.
- 개발 초기에 REST를 적용할 필요 없다. 고수준의 정책은 외부 인터페이스에 대해 독립적이어야 한다.
- 개발 초기에 DI 프레임워크를 적용할 필요 없다. 고수준 정책은 의존성을 해석하는 방식에 대해 신경 써서는 안 된다.

즉 세부사항과 관련 없이, 그리고 고수준의 정책은 세부사항을 알지 못하도록 한다면,
세부사항에 대한 결정은 선택 사항을 오래 열어둘 수 있다.
"좋은 아키텍트는 결정되지 않은 사항의 수를 최대화한다."

```text
느낀점

시스템 아키텍처는 단지 아키텍처가 잘 동작하다록만 구성하는 사람이 아니다.
이와 비슷한 사례로, 나는 DBA면, 쿼리 튜닝, 모델링, 등 모든 것들을 다 DBA가 관여하는 줄 알았다.
하지만 DBA 내에서도 분리되어 튜닝을 담당하는 사람, 모델링을 담당하는 사람이 나뉜다고 얘기를 들었을 때,
개발자로서 DB라는 영역을 생각하는 것과 DBA로서 영역의 범위가 역시 다르구나 새삼 깨달았었다.
이번 장에서도 마찬가지로 시스템 아키텍처는 아키텍처를 잘 구성하는 것도 중요하지만,
개발자의 생산선, 유지보수, 비용 최소화를 위해서도 노력한다는 것을 인지하게 됐다.

그리고 고수준의 정책 등 과 저수준의 세부사항을 봤을 때, 
고수준이 저수준을 알지 못하게 하고, 저수준의 선택 사항을 독립적으로 두어 선택 사항을 열어두는 것이 좋다.
시스팀 아키텍트 관점에서 나온 내용이지만, 개발적인 관점에서도 비슷한 내용이 많아 어느정도 공감하면서 읽게 됐다.

또한 비효율적인 설계로 인한 아키텍트가 구성됐을 때, 비용적인 면에서 상대적으로 덜 중요하다고 볼 수 있지만,
이건 단지 비용에 불과하다. 
설계가 비효율이라면, 개발 등의 작업도 효율일 가능성은 크지 않은 것 같다.
아무리 스케일업을 통한 해결이 된다고 한들, 아키텍트 관점에서 또는 개발 관점에서 현재 시스템이 비효율적인지 아닌지 판단하는 역량과 공부가 필요할 것 같다.
```




# 16장 독립성

# 17장 경계: 선 긋기

# 18장 경계 해부학

# 19장 정책과 수준

# 20장 업무 규칙

# 21장 소리치는 아키텍처

# 22장 클린 아키텍처

# 23장 프레젠터와 험블 객체

# 24장 부분적 경계

# 25장 계층과 경계

# 26장 메인(Main) 컴포넌트

# 27장 '크고 작은 모든' 서비스들

# 28장 테스트 경계

# 29장 클린 임베디드 아키텍처
