# 9장 주요 내용
- 텍스트 검색이 중요한 이유
- 텍스트 검색 기본
- MongoDB 텍스트 검색 인덱스 정의
- MongoDB find()로 텍스트 검색 사용하기
- 집계와 함께 MongoDB 텍스트 검색 사용하기
- 다른 언어로 텍스트 검색 사용하기
---

- '대량의 구조화되지 않은 데이터 처리', '거대한 제품 카탈로그에서 구매하려는 제품을 찾는 사용자를 지원',
  - 검색만으로 충분하지 않을 수 있다.
- 보다 정교한 텍스트 검색 엔진이 제공하는 몇 가지 기능
  - 빠른 단어 검색 (채점 포함)
    - 인덱스 생성
    - 정확한 구문 일치
    - 특정 단어나 구문으로 된 도큐먼트 제외
    - 여러 언어 지원

## 9.1 텍스트 검색 - 단지 패턴 매칭만은 아니다
- 검색 요점 (텍스트 검색 엔진이 제공하는 몇 가지 중요한 기능)
  - 대소문자 구분 X
  - java로 검색시 javaScript 검색 결과는 포함되지 않는다. -> 검색 엔진이 java, javaScript 단어 사이의 차이가 있음을 인식

### 9.1.1 텍스트 검색 vs. 패턴 일치 
- 검색 엔진은 스테밍(stemming) 기능 수행
  - 텍스트 단어가 'java'에서 파생되는 줄기(stem) 또는 뿌리(root) 단어로 변환된다.

### 9.1.2 텍스트 검색 vs. 웹 페이지 검색
- 구글에서 사용한 검색 알고리즘 중 하나 -> 페이지 랭크
  - 웹 페이지의 순위를 매긴다.
  - 페이지의 중요도를 토대로 중요도 또는 가중치를 평가한다.

### 9.1.3 MongoDB 텍스트 검색 vs. 전용 텍스트 검색 엔진
- faceted 검색
  - 사용자가 더 자세한 탐색을 할 수 있도록 카테고리 별로 결과 그룹화 
    - apple 검색 -> Desktop, labtop, ...
- MongoDB 텍스트 검색: 비용 vs. 이익
  - MongoDB 제공
    - 형태소 분석을 통한 자동 실시간 인덱싱
    - 필드 이름을 통해 선택적으로 지정 가능한 가중치
    - 다국어 지원
    - 불용어 삭제
    - 정확한 구문 또는 단어 일치
    - 주어진 구, 단어로 결과를 제외할 수 있는 기능
- MongoDB 텍스트 검색: 단순한 예제
  - 인덱스 정의
  - 텍스트 필드 검색 (gardens) -> 형태소 단어 garden 검색
  - garden으로부터 비롯되고 인덱싱된 gardening이라는 태그가 붙은 두 가지 제품 발견

## 9.2 Mainning 서적 카탈로그 데이터 다운로드
## 9.3 텍스트 검색 인덱스의 정의
### 9.3.1 텍스트 인덱스 크기
### 9.3.2 인덱스 이름 지정 및 컬렉션의 모든 텍스트 필드 인덱싱
## 9.4 기본 텍스트 검색
- $text: 쿼리를 텍스트 검색으로 정의
  - $search: 검색에 사용할 문자열 입력
    - actions 입력 -> actions으로 축약
      - 어간 action으로 모든 도큐먼트 빠르게 찾기 위해 인덱스 사용
        - 모든 텍스트 필드 스캔보다 인덱스를 사용하는 것이 빠를 수 있다.
    - MongoDB in action 입력 -> 문자열 단어로 분리 -> MongoDB, in, Action -> 불용어 in 제거 
### 9.4.1 더 복잡한 검색
- 검색 조건
  - or 대신 and 단어로 일치 지정
  - 정확한 구문 매칭 수행
    - $search 검색어 입력시 단어를 큰따옴표로 감싼다.
  - 특정 단어 제외
  - 특정 문구 포함 제외
    - $search 검색어 입력시 -second -> '-' 포함시켜 문구 제외 
### 9.4.2 텍스트 검색 스코어 

