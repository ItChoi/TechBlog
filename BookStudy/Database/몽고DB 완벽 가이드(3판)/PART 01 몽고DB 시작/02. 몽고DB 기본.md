몽고DB는 강력하고, 진입장벽이 낮다.  
- 데이터 기본 단위는 도큐먼트이다. (RDBMS 행 = 도큐먼트)
- 컬렉션은 동적 스키마가 없는 테이블과 같다.
- 모든 도큐먼트는 컬렉션 내 고유 특수키인 "_id"를 갖는다.
- 몽고 쉘이라는 간단하지만 강력한 도구와 함께 배포
- 등등등

# 2.1 도큐먼트
몽고DB의 핵심은 정렬된 키, 연결된 값의 집합 -> 도큐먼트다.  
도큐먼트 표현 방식은 개발 언어마다 다르지만 대부분 map, hash, dictionary 등 자연스럽게 표현 가능한 자료구조를 갖는다.  
ex) 자바스크립트에서 도큐먼트는 객체로 표현한다.  

```mongodb-json
{
  "greeting" : "Hello, world!",
  "views" : 3
}
```
- key: "greeting"
  - key 중복은 안 된다.
- value: "Hello, world!"
- 복잡한 다중 키/값 쌍을 갖는다.
- 도큐먼트의 값은 blob형만 갖지 않고 데이터형이어야 한다.
  
- 몽고 DB는 데이터 타입, 대소문자를 구별한다.
  - {"count" : 5}, {"count" : "5"}
    - 다르다.
  - {"Count" : 5}, {"count" : 5}
    - 다르다.
  
# 2.2 컬렉션
도큐먼트의 모음을 컬렉션이라 한다.  
"도큐먼트 -> 행", "컬렉션 -> 테이블" 이라고 볼 수 있다.  

## 2.2.1 동적 스키마
컬렉션(테이블)은 동적 스키마를 갖는다.  
하나의 컬렉션(테이블) 내 도큐먼트(행)이 모두 다른 구조를 가질 수 있다.  
```mongodb-json
{"greeting" :  "Hello, world!", "views" :  3}
{"signoff" : "Good night, and good luck"}
```
- 도큐먼트의 key, key 개수, 데이터 타입 모두 다르다.
  - 테이블 내 데이터 행이 모두 다르다는 것
- 그럼 별도 컬렉션은 왜 필요할까?
  - 같은 컬렉션에 다른 종류 도큐먼트 저장시 번거로워진다. 예를 들면 쿼리 데이터 중 특정 데이터만 제거하려면 번거롭다.
  - 컬렉션 별 목록 추출시 특정 테이터 형 별로 목록 추출보다 훨씬 빠르다.
    - 컬렉션 내 특정 도큐먼트 key를 갖고 찾는 것 보단, 여러 컬렉션에서 올바른 컬렉션 쿼리하는 편이 훨씬 빠르다.
      - 한 컬렉션 (요약, 전체, 뚱뚱이) -> type 키를 통해 찾는 것 보다, 세 컬렉션을 두고 올바른 컬렉션 쿼리가 빠르다.
  - 같은 종류 데이터를 하나의 컬렉션에 모아두면 데이터 지역성에 좋다.
    - 게시물, 저자 정보가 섞인 컬렉션 보다 분리되어 있을 때 '게시물'만 뽑을 때 디스크 탐색 시간이 더 짧다.
  - 인덱스 생성시 도큐먼트는 특정 구조를 가져야 한다. (고유 인덱스인 경우 특히 더)
    - 인덱스는 컬렉션 별로 정의

## 2.2.2 네이밍
컬렉션은 이름으로 식별된다.  
어떤 UTF-8 문자열이든 사용 가능하지만 몇 가지 제약사항이 있다.  
1. 빈 문자열은 못 쓴다.
2. \0(null 문자)는 못 쓴다.
3. 시스템 컬렉션에서 사용하는 예약어는 못 쓴다. (system. ~)
4. 예약어 $를 못 쓴다.
  
- 서브컬렉션
  - 서브 컬렉션의 네임스페이스에 '.' (마침표)를 사용해 컬렉션을 체계화
    - blog.posts, blog.authors 두 컬렉션 사용
  - 쳬게화를 위한 것, 자식 부모관계는 아니다.

# 2.3 데이터베이스
컬렉션에 도큐먼트를 그룹화하는 것 뿐만 아니라, 데이터베이스에 컬렉션을 그룹 짓는다.  
몽고 DB 단일 인스턴스는 여러 DB에 호스팅 가능하다.  
하나의 몽고 DB 서버에서 여러 애플리케이션, 여러 사용자 데이터 저장시 유용하다. (회원, 상품, ...) 맞나?  
  
- 직접 접근 불가, 특별한 의미론을 갖는 예약된 데이터베이스 이름
  - admin
    - 인증, 인가
  - local
  
- config
  - 샤딩된 몽고 DB 클러스터는 config 데이터베이스를 사용해 각 샤드 정보 저장
  
cms DB의 blog.posts 컬렉션 사용시 네임스페이스는 cms.blog.posts다.  

# 2.4 몽고 DB 시작