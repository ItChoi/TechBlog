EKS에 몽고DB 붙인다.  
EKS에 몽고DB 서버를 띄운다. 아틀라스는 백업, 복구, 모니터링 등을 위해 UI적으로 설정
  
정규화된 RDBMS를 몽고DB에 비정규화된 데이터를 저장 root의 pk를 쓸지, ObjectId를 쓸지 선택 과정  
DB 변경 -> 카프카 토픽발행 -> 플링크 (Denormalizer) -> 몽고DB  
CDC  
몽고DB에 데이터 동기화가 안됐다면 모니터링 감지 후(시간으로?) RDB를 바라보도록...
- 셸 - 두 가지
  - mongo
  - mongosh
    - 지원되는게 많다.
    - 커넥션 스트링도 조금 다르다.
스프링에서 지원하는 몽고DB를 쓸 수가 있다.  
  
insertMany -> 48MB 제한, 청크로 나누어 작업 필요  
카프카 메시지도 용량 제한이 있다. 최대한 운영쪽으로 해결할 수 있는 것은 운영쪽으로 보내 용량 제한, 압축 등으로 대응도 가능하다.  
EDA
varchar 64KB까지 가능. 엄청 크다. 넘는 경우에 text로, 그정도 큰 사이즈라면...  
테이블에 대한 리빌드가 필요한 시점에 온라인상으로는 그레이스풀하게 실행 안 된다.  
peal콜라?에서 만든 툴을 이용해 수행하면,  
  
업데이트(update), 갱신(replace) -> 둘 중 어떤걸? 둘 다 빠르다.   
몽고 DB lookup 기능 지양, -> full scan시 lookup  