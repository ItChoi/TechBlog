# 10. 실행 계획
```text
 옵티마이저가 쿼리 최적 처리를 위해 실행 계획을 수립 할 수 있어야 한다. 
EXPLAIN 명령으로 옵티마이저 수립 실행 계획을 확인 할 수 있다.

 MYSQL 서버가 보여주는 실행 계획을 읽는 순서, 실행 계획 출력되는 키워드, 알고리즘에 대해 살펴보자.
```

## 10.1 통계 정보
```text
 5.7까지 테이블과 인덱스에 대한 개괄적인 정보를 가지고 실행 계획을 수립했다.
하지만 테이블 값들의 실제 분포된 정보가 없기 떄문에 정확도가 떨어지는 경우가 많았다.
 8.0부터 인덱스되지 않은 컬럼들에 대해 데이터 분포도를 수집해서 저장하는 히스토그램 정보가 도입됐다.
```

### 10.1.1 테이블 및 인덱스 통계 정보
```text
 비용 기반 최적화에서 가장 중요한 것은 통계정보다. 엉뚱한 쿼리 실행 가능성이 높아지기 떄문이다.
1억 건 레코드 통계 정보가 갱싱되지 않아 10건 미만으로 돼 있다면 옵티마이저는 인덱스 레인지 스캔이 아니라 풀 테이블 스캔으로 실행 할 것이다.
부정확한 통계 정보로 0.1초 쿼리가 1시간이 소요될 수 있다.
```

#### 10.1.1.1 MYSQL 서버의 통계 정보
```text
 5.6 부터 InnoDB 스토리지 엔진을 사용하는 테이블에 대한 통계 정보를 영구 관리할 수 있게 개선됐다.
5.5 까지 메모리에만 관리되고 테이블의 인덱스 컬럼 분포도도 명령어를 통해 확인 가능했다.
메모리에 관리 될 경우 MYSQL 서버 재시작시 통계 정보가 모두 사라진다.
 5.6 부터 통계 정보를 mysql 디비의 테이블로 관리 할 수 있게 개선됐다.
테이블 생성시 옵션 설정으로 영구적 통계로 저장할지 결정 할 수 있다. 
```