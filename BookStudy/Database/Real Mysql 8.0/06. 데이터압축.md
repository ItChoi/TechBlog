# 06 데이터 압축
```text
- 많이 쓰인다. -> 적재용
- 성능 상의 문제 -> 자주 조회의 경우 
 디스크에 저장된 데이터 파일의 크기는 **쿼리 처리 성능**과 **백업 및 복구 시간**과 직결된다.
즉 디스크 파일의 크기가 클수록 쿼리를 처리하기 위해 더 많은 데이터 페이지를 InnoDB 버퍼 풀로 읽어야 할 수도 있다.
 또한 새로운 페이지가 버퍼 풀로 적재 되는데, 그만큼 더티 페이지가 더 자주 디스크로 기록돼야 한다.
 데이터 파일이 크면 클수록 백업 시간과 복구 시간도 오래 걸리고 비용 문제도 있을 수 있다.
 이러한 문제점들을 해결하기 위해 데이터 압축 기능을 제공한다.
 
 MySQL 서버에서 사용 가능한 압축 방식은 크게 두 가지로 나뉜다.
    1. 테이블 압축
    2. 페이지 압축
    - 두 방식은 크게 다르게 동작하기 때문에 구분 할 필요가 있다.
```
## 6.1 페이지 압축
```text
- 페이지 압축은 안 써봤다고 함.
- "Transparent Page Compression"라고도 불린다.
- MySQL 서버는 특정 테이블에 대해 16KB 크기의 페이지를 유지하면
 MySQL 서버가 디스크에 저장하는 시점에 데이터 페이지가 압축되고, 읽어올 때 압축해제된다. 즉 버퍼 풀로 데이터 페이지가 한 번 적재되면,
InnoDB 스토리지 엔진은 압축 해제된 상태로 데이터 페이지를 관리한다.
    - MySQL 서버와 디스크에서 각각의 IO를 위해서 압축하는 듯.
 따라서 MySQL의 내부 코드에서는 압축 여부와 상관없이 "투명(Transparent)"하게 작동한다.
여기서 한 가지 문제점은 16KB 데이터 페이지의 압축 결과 용량은 예측 불가능한데 최소한 하나의 테이블은 동일한 크기의 페이지(블록)로 통일돼야 한다.
 그래서 페이지 압축 기능은 운영체제 별로 특정 버전의 파일 시스템에만 지원되는 **펀치 홀(Punch hole) 기능**을 사용한다.

ex) 운영체제의 블록 사이즈가 512바이트인 경우 페이지 압축 작동 방식
```

인덱스 부분 서적 -> 
1. 대용량 데이터베이스 솔루션
2. SQL 서버 튜닝과 원리
3. 튜닝 공부하면서 인덱스 
