# 목차
1. 자동화의 가치
2. 구글 SRE의 가치
3. 자동화의 사례
4. 스스로를 이롭게 하라 - 몽땅 자동화하자!
5. 신의 한 수 - 클러스터 턴업의 자동화
6. 보그 - 창고 크기 컴퓨터의 탄생
7. 신뢰성은 근본적인 기능이다
7. 추천 사항
---

# 서론
자동화는 만병통치약이 아니다. 주어진 방향에 힘을 더하는 것과 같다.  
자동화를 통한 문제 해결은 새로운 문제를 발생 시킬 수도 있다.  
SW 자동화보다, 자동화가 필요하지 않은 상황 즉 고수준의 시스템 자율 시스템을 디자인 하는 것도 중요하다.

# 자동화의 가치
- 일관성
  - 시스템 스케일 조정
  - 데이터 신뢰상 (계정 생성 등)
  - 다양한 측면에서 자동화가 최우선적으로 추구하는 가치
- 플랫폼
  - 자동화 시스템은 확장 가능, 제공 가능, 이윤 창출 -> 플랫폼 제공
- 더 신속한 수리
  - 장애 발생시 평균 고장 후 수리 시간 절감이 가능함
  - 문제 발생시 신속히 알아낼 수 있는 자동화는 시스템이 클수록 전체 비용 절감이 가능함
- 더 신속한 조치
  - 사람이 기계의 속도를 따라 올 수 없는 환경이 있다. (시스템 배포 인프라 스트럭처 환경)
  - 많은 서비스들이 자동화 시스템 없이 오래 살아남기 힘들다. 
    - 시간 및 사람의 판단이 필요 없는 자동화 
- 시간 절감
  - 자동화 활용을 통해 시간 절감 가능함

---

# 구글 SRE의 가치
- 구글은 자동화에 강한 성향을 가지고 있다. -> 특정 비즈니스적 도전에 기인한 선호
- 구글 자동화 주요 논쟁중 하나 -> 복잡하면서 동일한 프러덕션 환경 -> 완전하게 제어 할 수 없는 장애물이 존재하는 시나리오를 피하려고 노력함 -> 벤더에서 API 제공 X -> 직접 개발
- 단기적 SW 구매가 저렴 -> 사용하지 않고 직접 솔루션 작성 -> API 직접 생산을 통해 장기적인 이점을 가져옴
- 가능한 경우 자동화된 머신을 통해 서비서 머신들을 관리 중 -> 이 접근법의 약간의 수정이 필요 -> 모든 시스템의 모든 컴포넌트 자동화는 적절하지 않고, 모두 자동화 능력이 있는 것이 아니다.
- 보통 직접 개발하거나, 시간을 두어 개발 할 수 있는 방향을 선택한다.

---

# 자동화의 사례
1. 사용자 계정 생성
2. 서비스를 위한 클러스터 턴업/턴다운
3. SW, HW 설치 준비 및 해제
4. 새로우 버전의 SW 출시(rollout)
5. 런타임 설정 변경
6. ....
  
- 구글 SRE의 자동화 사례
  - 시스템 데이터가 아니라, 시스템 생명주기를 관리하는 것에 초점이 맞춰져 있음
- 자동화 클래스의 계층 구조
  - 시스템 구축시 외부 시스템과 통합 로직은 배제하는 편이 좋음
  - 구글에서 시행하는 대부분 시동 자동화는 문제가 많음 -> 자동화가 핵심 시스템과 별개로 유지보수 -> 기반 시스템 변경 O / 자동회 시스템 변경 X 상황
  - 자동화 혁신의 단계
    1. 자동화를 하지 않는 단계
    2. 별도 관리, 시스템에 특화된 자동화 수행 단계
    3. 별도 관리, 범용 자동화 수행 단계
    4. 내재화, 시스템에 특화된 자동화를 수행하는 단계
    5. 자동화 불필요 시스템 도입 단계
  - 수동 작업이 생기지 않도록 노력하지만, 피할 수 없는 경우는 반드시 존재한다.

---

# 스스로를 이롭게 하라 - 몽땅 자동화하자!
- 구글 클러스터 스케줄링 시스템인 보그에 MySQL을 마이그레이션
  - 두 가지 목표 달성 기대
    1. 보그를 통해 자동으로 새 작업 설정, 문제 발생시 해당 작업 재시작 -> 주 장비, 복제 장비 관리 부하 완전히 제거
    2. 보그 컨테이너 관리 기능을 통해 머신 리소스 효율적 활용, 동일 물리 머신에 여러 개의 MySQL 인스턴스를 바이너리 단위로 패키징
    - 2008년 보그에 시험용 MySQL 인스턴스 성공적 배포
    - 완전히 새로운 난제 발생 -> 보그 운영 특성중 하나가 마스터 인스턴스에 있어서는 안 되는 일 발생시킴
    - 장애 대응 자동화 필요 대두
    - 사이드 이펙트 해결 후 보그에 MySQL 마이그레이션 계획 현실화
    - 더 많은 시간 절약 -> 삽질 자동화 시간이 늘어나는 연쇄효과 일으킴

---

# 신의 한 수 - 클러스터 턴업의 자동화

---

# 보그 - 창고 크기 컴퓨터의 탄생

---

# 신뢰성은 근본적인 기능이다
고효율적 자동화의 단점도 있다.  
자동화가 많은 부분을 담당함에 따라 담당자는 프로세스 동작에 대한 긴장감을 낮추고, 자동화 실패시 담당자들이 시스템을 성공적으로 운영하지 못하게 된다.  
수동 작업을 자동화하고, 언제나 그랬듯 자동으로 수행될 것이라는 전제는 결국 문제를 야기한다.  
담당자들의 실전 경험 부족과 예상과 빗나가는 시스템 동작이 존재하기 떄문이다.  
신뢰성이란 자율적이면서 탄력적으로 구현됐을 때 빛을 발한다.

---

# 추천 사항
구글 규모가 돼야 자동화든 뭐든 한다? 옳지 않다.  
자동화는 시간 절약 이상의 가치를 제공한다.  
